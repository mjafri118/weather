import requests, json, datetime, sys, random
import matplotlib.pyplot as plt

class weather:
    def __init__(self, state = "CA", city = "Davis", reportHours = 12, key = "a38755057259545e"):
        url = "http://api.wunderground.com/api/" + key + "/hourly/q/" + state + "/" + city + ".json"

        wunderground =  {
            'response': {'version': '0.1', 'termsofService': 'http://www.wunderground.com/weather/api/d/terms.html', 'features': {'hourly': 1}}, 'hourly_forecast': [{'FCTTIME': {'hour': '20', 'hour_padded': '20', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '13', 'mday_padded': '13', 'yday': '132', 'isdst': '1', 'epoch': '1526266800', 'pretty': '8:00 PM PDT on May 13, 2018', 'civil': '8:00 PM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Sunday', 'weekday_name_night': 'Sunday Night', 'weekday_name_abbrev': 'Sun', 'weekday_name_unlang': 'Sunday', 'weekday_name_night_unlang': 'Sunday Night', 'ampm': 'PM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '67', 'metric': '19'}, 'dewpoint': {'english': '49', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/clear.gif', 'fctcode': '1', 'sky': '0', 'wspd': {'english': '7', 'metric': '11'}, 'wdir': {'dir': 'SSW', 'degrees': '205'}, 'wx': 'Sunny', 'uvi': '0', 'humidity': '54', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '67', 'metric': '19'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '0', 'mslp': {'english': '29.91', 'metric': '1013'}}, {'FCTTIME': {'hour': '21', 'hour_padded': '21', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '13', 'mday_padded': '13', 'yday': '132', 'isdst': '1', 'epoch': '1526270400', 'pretty': '9:00 PM PDT on May 13, 2018', 'civil': '9:00 PM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Sunday', 'weekday_name_night': 'Sunday Night', 'weekday_name_abbrev': 'Sun', 'weekday_name_unlang': 'Sunday', 'weekday_name_night_unlang': 'Sunday Night', 'ampm': 'PM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '162', 'metric': '17'}, 'dewpoint': {'english': '49', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/nt_clear.gif', 'fctcode': '1', 'sky': '0', 'wspd': {'english': '6', 'metric': '10'}, 'wdir': {'dir': 'SSW', 'degrees': '195'}, 'wx': 'Clear', 'uvi': '0', 'humidity': '62', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '62', 'metric': '17'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '0', 'mslp': {'english': '29.93', 'metric': '1014'}}, {'FCTTIME': {'hour': '22', 'hour_padded': '22', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '13', 'mday_padded': '13', 'yday': '132', 'isdst': '1', 'epoch': '1526274000', 'pretty': '10:00 PM PDT on May 13, 2018', 'civil': '10:00 PM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Sunday', 'weekday_name_night': 'Sunday Night', 'weekday_name_abbrev': 'Sun', 'weekday_name_unlang': 'Sunday', 'weekday_name_night_unlang': 'Sunday Night', 'ampm': 'PM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '60', 'metric': '16'}, 'dewpoint': {'english': '49', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/nt_clear.gif', 'fctcode': '1', 'sky': '2', 'wspd': {'english': '5', 'metric': '8'}, 'wdir': {'dir': 'S', 'degrees': '187'}, 'wx': 'Clear', 'uvi': '0', 'humidity': '66', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '60', 'metric': '16'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '0', 'mslp': {'english': '29.94', 'metric': '1014'}}, {'FCTTIME': {'hour': '23', 'hour_padded': '23', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '13', 'mday_padded': '13', 'yday': '132', 'isdst': '1', 'epoch': '1526277600', 'pretty': '11:00 PM PDT on May 13, 2018', 'civil': '11:00 PM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Sunday', 'weekday_name_night': 'Sunday Night', 'weekday_name_abbrev': 'Sun', 'weekday_name_unlang': 'Sunday', 'weekday_name_night_unlang': 'Sunday Night', 'ampm': 'PM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '58', 'metric': '14'}, 'dewpoint': {'english': '48', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/nt_clear.gif', 'fctcode': '1', 'sky': '4', 'wspd': {'english': '6', 'metric': '10'}, 'wdir': {'dir': 'S', 'degrees': '182'}, 'wx': 'Clear', 'uvi': '0', 'humidity': '71', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '58', 'metric': '14'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '0', 'mslp': {'english': '29.94', 'metric': '1014'}}, {'FCTTIME': {'hour': '0', 'hour_padded': '00', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526281200', 'pretty': '12:00 AM PDT on May 14, 2018', 'civil': '12:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '56', 'metric': '13'}, 'dewpoint': {'english': '48', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/nt_clear.gif', 'fctcode': '1', 'sky': '7', 'wspd': {'english': '6', 'metric': '10'}, 'wdir': {'dir': 'S', 'degrees': '175'}, 'wx': 'Clear', 'uvi': '0', 'humidity': '74', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '56', 'metric': '13'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '1', 'mslp': {'english': '29.94', 'metric': '1014'}}, {'FCTTIME': {'hour': '1', 'hour_padded': '01', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526284800', 'pretty': '1:00 AM PDT on May 14, 2018', 'civil': '1:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '55', 'metric': '13'}, 'dewpoint': {'english': '48', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/nt_clear.gif', 'fctcode': '1', 'sky': '10', 'wspd': {'english': '5', 'metric': '8'}, 'wdir': {'dir': 'S', 'degrees': '176'}, 'wx': 'Clear', 'uvi': '0', 'humidity': '78', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '55', 'metric': '13'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '3', 'mslp': {'english': '29.94', 'metric': '1014'}}, {'FCTTIME': {'hour': '2', 'hour_padded': '02', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526288400', 'pretty': '2:00 AM PDT on May 14, 2018', 'civil': '2:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '54', 'metric': '12'}, 'dewpoint': {'english': '48', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/nt_clear.gif', 'fctcode': '1', 'sky': '4', 'wspd': {'english': '5', 'metric': '8'}, 'wdir': {'dir': 'S', 'degrees': '175'}, 'wx': 'Clear', 'uvi': '0', 'humidity': '79', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '54', 'metric': '12'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '4', 'mslp': {'english': '29.94', 'metric': '1014'}}, {'FCTTIME': {'hour': '3', 'hour_padded': '03', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526292000', 'pretty': '3:00 AM PDT on May 14, 2018', 'civil': '3:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '53', 'metric': '12'}, 'dewpoint': {'english': '48', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/nt_clear.gif', 'fctcode': '1', 'sky': '3', 'wspd': {'english': '4', 'metric': '6'}, 'wdir': {'dir': 'S', 'degrees': '183'}, 'wx': 'Clear', 'uvi': '0', 'humidity': '83', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '53', 'metric': '12'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '6', 'mslp': {'english': '29.93', 'metric': '1014'}}, {'FCTTIME': {'hour': '4', 'hour_padded': '04', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526295600', 'pretty': '4:00 AM PDT on May 14, 2018', 'civil': '4:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '53', 'metric': '12'}, 'dewpoint': {'english': '48', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/nt_clear.gif', 'fctcode': '1', 'sky': '3', 'wspd': {'english': '4', 'metric': '6'}, 'wdir': {'dir': 'SSW', 'degrees': '194'}, 'wx': 'Clear', 'uvi': '0', 'humidity': '85', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '53', 'metric': '12'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '6', 'mslp': {'english': '29.94', 'metric': '1014'}}, {'FCTTIME': {'hour': '5', 'hour_padded': '05', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526299200', 'pretty': '5:00 AM PDT on May 14, 2018', 'civil': '5:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '52', 'metric': '11'}, 'dewpoint': {'english': '47', 'metric': '8'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/nt_clear.gif', 'fctcode': '1', 'sky': '3', 'wspd': {'english': '4', 'metric': '6'}, 'wdir': {'dir': 'SSW', 'degrees': '202'}, 'wx': 'Clear', 'uvi': '0', 'humidity': '86', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '52', 'metric': '11'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '7', 'mslp': {'english': '29.94', 'metric': '1014'}}, {'FCTTIME': {'hour': '6', 'hour_padded': '06', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526302800', 'pretty': '6:00 AM PDT on May 14, 2018', 'civil': '6:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '51', 'metric': '11'}, 'dewpoint': {'english': '48', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/clear.gif', 'fctcode': '1', 'sky': '2', 'wspd': {'english': '3', 'metric': '5'}, 'wdir': {'dir': 'S', 'degrees': '184'}, 'wx': 'Sunny', 'uvi': '0', 'humidity': '90', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '51', 'metric': '11'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '7', 'mslp': {'english': '29.94', 'metric': '1014'}}, {'FCTTIME': {'hour': '7', 'hour_padded': '07', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526306400', 'pretty': '7:00 AM PDT on May 14, 2018', 'civil': '7:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '52', 'metric': '11'}, 'dewpoint': {'english': '48', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/clear.gif', 'fctcode': '1', 'sky': '1', 'wspd': {'english': '2', 'metric': '3'}, 'wdir': {'dir': 'S', 'degrees': '190'}, 'wx': 'Sunny', 'uvi': '0', 'humidity': '86', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '52', 'metric': '11'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '5', 'mslp': {'english': '29.95', 'metric': '1014'}}, {'FCTTIME': {'hour': '8', 'hour_padded': '08', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526310000', 'pretty': '8:00 AM PDT on May 14, 2018', 'civil': '8:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '56', 'metric': '13'}, 'dewpoint': {'english': '49', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/clear.gif', 'fctcode': '1', 'sky': '2', 'wspd': {'english': '3', 'metric': '5'}, 'wdir': {'dir': 'SSW', 'degrees': '211'}, 'wx': 'Sunny', 'uvi': '1', 'humidity': '76', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '56', 'metric': '13'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '3', 'mslp': {'english': '29.95', 'metric': '1014'}}, {'FCTTIME': {'hour': '9', 'hour_padded': '09', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526313600', 'pretty': '9:00 AM PDT on May 14, 2018', 'civil': '9:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '60', 'metric': '16'}, 'dewpoint': {'english': '49', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/clear.gif', 'fctcode': '1', 'sky': '3', 'wspd': {'english': '3', 'metric': '5'}, 'wdir': {'dir': 'SW', 'degrees': '221'}, 'wx': 'Sunny', 'uvi': '2', 'humidity': '68', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '60', 'metric': '16'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '1', 'mslp': {'english': '29.95', 'metric': '1014'}}, {'FCTTIME': {'hour': '10', 'hour_padded': '10', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526317200', 'pretty': '10:00 AM PDT on May 14, 2018', 'civil': '10:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '64', 'metric': '18'}, 'dewpoint': {'english': '50', 'metric': '10'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/clear.gif', 'fctcode': '1', 'sky': '5', 'wspd': {'english': '3', 'metric': '5'}, 'wdir': {'dir': 'SSW', 'degrees': '202'}, 'wx': 'Sunny', 'uvi': '4', 'humidity': '61', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '64', 'metric': '18'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '0', 'mslp': {'english': '29.95', 'metric': '1014'}}, {'FCTTIME': {'hour': '11', 'hour_padded': '11', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526320800', 'pretty': '11:00 AM PDT on May 14, 2018', 'civil': '11:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '67', 'metric': '19'}, 'dewpoint': {'english': '50', 'metric': '10'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/clear.gif', 'fctcode': '1', 'sky': '3', 'wspd': {'english': '4', 'metric': '6'}, 'wdir': {'dir': 'SSW', 'degrees': '194'}, 'wx': 'Sunny', 'uvi': '6', 'humidity': '54', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '67', 'metric': '19'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '0', 'mslp': {'english': '29.95', 'metric': '1014'}}, {'FCTTIME': {'hour': '12', 'hour_padded': '12', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526324400', 'pretty': '12:00 PM PDT on May 14, 2018', 'civil': '12:00 PM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'PM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '70', 'metric': '21'}, 'dewpoint': {'english': '51', 'metric': '11'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/clear.gif', 'fctcode': '1', 'sky': '0', 'wspd': {'english': '5', 'metric': '8'}, 'wdir': {'dir': 'SSW', 'degrees': '204'}, 'wx': 'Sunny', 'uvi': '8', 'humidity': '50', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '70', 'metric': '21'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '0', 'mslp': {'english': '29.93', 'metric': '1014'}}, {'FCTTIME': {'hour': '13', 'hour_padded': '13', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526328000', 'pretty': '1:00 PM PDT on May 14, 2018', 'civil': '1:00 PM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'PM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '73', 'metric': '23'}, 'dewpoint': {'english': '52', 'metric': '11'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/clear.gif', 'fctcode': '1', 'sky': '0', 'wspd': {'english': '8', 'metric': '13'}, 'wdir': {'dir': 'SSW', 'degrees': '194'}, 'wx': 'Sunny', 'uvi': '9', 'humidity': '48', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '73', 'metric': '23'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '0', 'mslp': {'english': '29.92', 'metric': '1013'}}, {'FCTTIME': {'hour': '14', 'hour_padded': '14', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526331600', 'pretty': '2:00 PM PDT on May 14, 2018', 'civil': '2:00 PM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'PM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '75', 'metric': '24'}, 'dewpoint': {'english': '53', 'metric': '12'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/clear.gif', 'fctcode': '1', 'sky': '0', 'wspd': {'english': '9', 'metric': '14'}, 'wdir': {'dir': 'SSW', 'degrees': '199'}, 'wx': 'Sunny', 'uvi': '8', 'humidity': '46', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '75', 'metric': '24'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '0', 'mslp': {'english': '29.9', 'metric': '1013'}}, {'FCTTIME': {'hour': '15', 'hour_padded': '15', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526335200', 'pretty': '3:00 PM PDT on May 14, 2018', 'civil': '3:00 PM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'PM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '77', 'metric': '25'}, 'dewpoint': {'english': '52', 'metric': '11'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/clear.gif', 'fctcode': '1', 'sky': '0', 'wspd': {'english': '10', 'metric': '16'}, 'wdir': {'dir': 'SSW', 'degrees': '207'}, 'wx': 'Sunny', 'uvi': '6', 'humidity': '42', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '77', 'metric': '25'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '0', 'mslp': {'english': '29.88', 'metric': '1012'}}, {'FCTTIME': {'hour': '16', 'hour_padded': '16', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526338800', 'pretty': '4:00 PM PDT on May 14, 2018', 'civil': '4:00 PM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'PM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '77', 'metric': '25'}, 'dewpoint': {'english': '52', 'metric': '11'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/clear.gif', 'fctcode': '1', 'sky': '1', 'wspd': {'english': '13', 'metric': '21'}, 'wdir': {'dir': 'SSW', 'degrees': '209'}, 'wx': 'Sunny', 'uvi': '4', 'humidity': '42', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '77', 'metric': '25'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '0', 'mslp': {'english': '29.86', 'metric': '1011'}}, {'FCTTIME': {'hour': '17', 'hour_padded': '17', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526342400', 'pretty': '5:00 PM PDT on May 14, 2018', 'civil': '5:00 PM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'PM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '75', 'metric': '24'}, 'dewpoint': {'english': '52', 'metric': '11'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/clear.gif', 'fctcode': '1', 'sky': '1', 'wspd': {'english': '14', 'metric': '23'}, 'wdir': {'dir': 'SSW', 'degrees': '209'}, 'wx': 'Sunny', 'uvi': '3', 'humidity': '45', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '75', 'metric': '24'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '0', 'mslp': {'english': '29.86', 'metric': '1011'}}, {'FCTTIME': {'hour': '18', 'hour_padded': '18', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526346000', 'pretty': '6:00 PM PDT on May 14, 2018', 'civil': '6:00 PM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'PM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '73', 'metric': '23'}, 'dewpoint': {'english': '51', 'metric': '11'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/clear.gif', 'fctcode': '1', 'sky': '1', 'wspd': {'english': '13', 'metric': '21'}, 'wdir': {'dir': 'SSW', 'degrees': '210'}, 'wx': 'Sunny', 'uvi': '1', 'humidity': '47', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '73', 'metric': '23'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '0', 'mslp': {'english': '29.87', 'metric': '1012'}}, {'FCTTIME': {'hour': '19', 'hour_padded': '19', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526349600', 'pretty': '7:00 PM PDT on May 14, 2018', 'civil': '7:00 PM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'PM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '69', 'metric': '21'}, 'dewpoint': {'english': '50', 'metric': '10'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/clear.gif', 'fctcode': '1', 'sky': '1', 'wspd': {'english': '13', 'metric': '21'}, 'wdir': {'dir': 'SSW', 'degrees': '209'}, 'wx': 'Sunny', 'uvi': '0', 'humidity': '51', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '69', 'metric': '21'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '0', 'mslp': {'english': '29.88', 'metric': '1012'}}, {'FCTTIME': {'hour': '20', 'hour_padded': '20', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526353200', 'pretty': '8:00 PM PDT on May 14, 2018', 'civil': '8:00 PM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'PM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '64', 'metric': '18'}, 'dewpoint': {'english': '49', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/clear.gif', 'fctcode': '1', 'sky': '1', 'wspd': {'english': '11', 'metric': '18'}, 'wdir': {'dir': 'SSW', 'degrees': '207'}, 'wx': 'Sunny', 'uvi': '0', 'humidity': '59', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '64', 'metric': '18'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '0', 'mslp': {'english': '29.89', 'metric': '1012'}}, {'FCTTIME': {'hour': '21', 'hour_padded': '21', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526356800', 'pretty': '9:00 PM PDT on May 14, 2018', 'civil': '9:00 PM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'PM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '61', 'metric': '16'}, 'dewpoint': {'english': '49', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/nt_clear.gif', 'fctcode': '1', 'sky': '1', 'wspd': {'english': '9', 'metric': '14'}, 'wdir': {'dir': 'SSW', 'degrees': '199'}, 'wx': 'Clear', 'uvi': '0', 'humidity': '65', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '61', 'metric': '16'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '1', 'mslp': {'english': '29.91', 'metric': '1013'}}, {'FCTTIME': {'hour': '22', 'hour_padded': '22', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526360400', 'pretty': '10:00 PM PDT on May 14, 2018', 'civil': '10:00 PM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'PM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '58', 'metric': '14'}, 'dewpoint': {'english': '49', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/nt_clear.gif', 'fctcode': '1', 'sky': '5', 'wspd': {'english': '8', 'metric': '13'}, 'wdir': {'dir': 'S', 'degrees': '190'}, 'wx': 'Clear', 'uvi': '0', 'humidity': '71', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '58', 'metric': '14'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '2', 'mslp': {'english': '29.93', 'metric': '1014'}}, {'FCTTIME': {'hour': '23', 'hour_padded': '23', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '14', 'mday_padded': '14', 'yday': '133', 'isdst': '1', 'epoch': '1526364000', 'pretty': '11:00 PM PDT on May 14, 2018', 'civil': '11:00 PM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Monday', 'weekday_name_night': 'Monday Night', 'weekday_name_abbrev': 'Mon', 'weekday_name_unlang': 'Monday', 'weekday_name_night_unlang': 'Monday Night', 'ampm': 'PM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '57', 'metric': '14'}, 'dewpoint': {'english': '48', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/nt_clear.gif', 'fctcode': '1', 'sky': '5', 'wspd': {'english': '9', 'metric': '14'}, 'wdir': {'dir': 'S', 'degrees': '187'}, 'wx': 'Clear', 'uvi': '0', 'humidity': '72', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '57', 'metric': '14'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '3', 'mslp': {'english': '29.94', 'metric': '1014'}}, {'FCTTIME': {'hour': '0', 'hour_padded': '00', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '15', 'mday_padded': '15', 'yday': '134', 'isdst': '1', 'epoch': '1526367600', 'pretty': '12:00 AM PDT on May 15, 2018', 'civil': '12:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Tuesday', 'weekday_name_night': 'Tuesday Night', 'weekday_name_abbrev': 'Tue', 'weekday_name_unlang': 'Tuesday', 'weekday_name_night_unlang': 'Tuesday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '56', 'metric': '13'}, 'dewpoint': {'english': '48', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/nt_clear.gif', 'fctcode': '1', 'sky': '10', 'wspd': {'english': '8', 'metric': '13'}, 'wdir': {'dir': 'S', 'degrees': '187'}, 'wx': 'Clear', 'uvi': '0', 'humidity': '76', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '56', 'metric': '13'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '4', 'mslp': {'english': '29.94', 'metric': '1014'}}, {'FCTTIME': {'hour': '1', 'hour_padded': '01', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '15', 'mday_padded': '15', 'yday': '134', 'isdst': '1', 'epoch': '1526371200', 'pretty': '1:00 AM PDT on May 15, 2018', 'civil': '1:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Tuesday', 'weekday_name_night': 'Tuesday Night', 'weekday_name_abbrev': 'Tue', 'weekday_name_unlang': 'Tuesday', 'weekday_name_night_unlang': 'Tuesday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '55', 'metric': '13'}, 'dewpoint': {'english': '49', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/nt_clear.gif', 'fctcode': '1', 'sky': '2', 'wspd': {'english': '7', 'metric': '11'}, 'wdir': {'dir': 'S', 'degrees': '191'}, 'wx': 'Clear', 'uvi': '0', 'humidity': '80', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '55', 'metric': '13'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '4', 'mslp': {'english': '29.94', 'metric': '1014'}}, {'FCTTIME': {'hour': '2', 'hour_padded': '02', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '15', 'mday_padded': '15', 'yday': '134', 'isdst': '1', 'epoch': '1526374800', 'pretty': '2:00 AM PDT on May 15, 2018', 'civil': '2:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Tuesday', 'weekday_name_night': 'Tuesday Night', 'weekday_name_abbrev': 'Tue', 'weekday_name_unlang': 'Tuesday', 'weekday_name_night_unlang': 'Tuesday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '54', 'metric': '12'}, 'dewpoint': {'english': '49', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/nt_clear.gif', 'fctcode': '1', 'sky': '1', 'wspd': {'english': '7', 'metric': '11'}, 'wdir': {'dir': 'SSW', 'degrees': '194'}, 'wx': 'Clear', 'uvi': '0', 'humidity': '82', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '54', 'metric': '12'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '5', 'mslp': {'english': '29.95', 'metric': '1014'}}, {'FCTTIME': {'hour': '3', 'hour_padded': '03', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '15', 'mday_padded': '15', 'yday': '134', 'isdst': '1', 'epoch': '1526378400', 'pretty': '3:00 AM PDT on May 15, 2018', 'civil': '3:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Tuesday', 'weekday_name_night': 'Tuesday Night', 'weekday_name_abbrev': 'Tue', 'weekday_name_unlang': 'Tuesday', 'weekday_name_night_unlang': 'Tuesday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '53', 'metric': '12'}, 'dewpoint': {'english': '49', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/nt_clear.gif', 'fctcode': '1', 'sky': '2', 'wspd': {'english': '6', 'metric': '10'}, 'wdir': {'dir': 'S', 'degrees': '186'}, 'wx': 'Clear', 'uvi': '0', 'humidity': '85', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '53', 'metric': '12'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '6', 'mslp': {'english': '29.94', 'metric': '1014'}}, {'FCTTIME': {'hour': '4', 'hour_padded': '04', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '15', 'mday_padded': '15', 'yday': '134', 'isdst': '1', 'epoch': '1526382000', 'pretty': '4:00 AM PDT on May 15, 2018', 'civil': '4:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Tuesday', 'weekday_name_night': 'Tuesday Night', 'weekday_name_abbrev': 'Tue', 'weekday_name_unlang': 'Tuesday', 'weekday_name_night_unlang': 'Tuesday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '53', 'metric': '12'}, 'dewpoint': {'english': '49', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/nt_clear.gif', 'fctcode': '1', 'sky': '6', 'wspd': {'english': '6', 'metric': '10'}, 'wdir': {'dir': 'S', 'degrees': '190'}, 'wx': 'Clear', 'uvi': '0', 'humidity': '86', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '53', 'metric': '12'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '6', 'mslp': {'english': '29.95', 'metric': '1014'}}, {'FCTTIME': {'hour': '5', 'hour_padded': '05', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '15', 'mday_padded': '15', 'yday': '134', 'isdst': '1', 'epoch': '1526385600', 'pretty': '5:00 AM PDT on May 15, 2018', 'civil': '5:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Tuesday', 'weekday_name_night': 'Tuesday Night', 'weekday_name_abbrev': 'Tue', 'weekday_name_unlang': 'Tuesday', 'weekday_name_night_unlang': 'Tuesday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '52', 'metric': '11'}, 'dewpoint': {'english': '48', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/nt_clear.gif', 'fctcode': '1', 'sky': '7', 'wspd': {'english': '6', 'metric': '10'}, 'wdir': {'dir': 'SSW', 'degrees': '194'}, 'wx': 'Clear', 'uvi': '0', 'humidity': '87', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '52', 'metric': '11'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '7', 'mslp': {'english': '29.96', 'metric': '1015'}}, {'FCTTIME': {'hour': '6', 'hour_padded': '06', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '15', 'mday_padded': '15', 'yday': '134', 'isdst': '1', 'epoch': '1526389200', 'pretty': '6:00 AM PDT on May 15, 2018', 'civil': '6:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Tuesday', 'weekday_name_night': 'Tuesday Night', 'weekday_name_abbrev': 'Tue', 'weekday_name_unlang': 'Tuesday', 'weekday_name_night_unlang': 'Tuesday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '51', 'metric': '11'}, 'dewpoint': {'english': '49', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/clear.gif', 'fctcode': '1', 'sky': '10', 'wspd': {'english': '5', 'metric': '8'}, 'wdir': {'dir': 'S', 'degrees': '185'}, 'wx': 'Sunny', 'uvi': '0', 'humidity': '90', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '51', 'metric': '11'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '7', 'mslp': {'english': '29.96', 'metric': '1015'}}, {'FCTTIME': {'hour': '7', 'hour_padded': '07', 'min': '00', 'min_unpadded': '0', 'sec': '0', 'year': '2018', 'mon': '5', 'mon_padded': '05', 'mon_abbrev': 'May', 'mday': '15', 'mday_padded': '15', 'yday': '134', 'isdst': '1', 'epoch': '1526392800', 'pretty': '7:00 AM PDT on May 15, 2018', 'civil': '7:00 AM', 'month_name': 'May', 'month_name_abbrev': 'May', 'weekday_name': 'Tuesday', 'weekday_name_night': 'Tuesday Night', 'weekday_name_abbrev': 'Tue', 'weekday_name_unlang': 'Tuesday', 'weekday_name_night_unlang': 'Tuesday Night', 'ampm': 'AM', 'tz': '', 'age': '', 'UTCDATE': ''}, 'temp': {'english': '53', 'metric': '12'}, 'dewpoint': {'english': '49', 'metric': '9'}, 'condition': 'Clear', 'icon': 'clear', 'icon_url': 'http://icons.wxug.com/i/c/k/clear.gif', 'fctcode': '1', 'sky': '9', 'wspd': {'english': '5', 'metric': '8'}, 'wdir': {'dir': 'SSW', 'degrees': '192'}, 'wx': 'Sunny', 'uvi': '0', 'humidity': '88', 'windchill': {'english': '-9999', 'metric': '-9999'}, 'heatindex': {'english': '-9999', 'metric': '-9999'}, 'feelslike': {'english': '53', 'metric': '12'}, 'qpf': {'english': '0.0', 'metric': '0'}, 'snow': {'english': '0.0', 'metric': '0'}, 'pop': '6', 'mslp': {'english': '29.98', 'metric': '1015'}}]}

        wunderground = fullWeather = json.loads(requests.get(url).text)

        self.hourlyForecast = wunderground["hourly_forecast"]
        self.city = city
        self.state = state
        self.reportHours = reportHours
        self.cleanWeatherInfo() # to clean the data

    def cleanWeatherInfo(self):

        hours = self.hourlyForecast

        # Instantiate.
        times = []
        temps = []
        pops = []
        windSpeeds = []

        # Puts each set of values into array.
        for hour in range(self.reportHours):
            time = str(int(hours[hour]["FCTTIME"]["hour"])%12) + (" PM" if int(hours[hour]["FCTTIME"]["hour"]) > 11 else " AM")
            if time == "0 AM":
                time = "12 AM"
            if time == "0 PM":
                time = "12 PM"

            temp = hours[hour]["temp"]["english"]
            pop = hours[hour]["pop"]
            windSpeed = hours[hour]["wspd"]["english"]

            windSpeeds.append(int(windSpeed))
            pops.append(int(pop))
            times.append(time)
            temps.append(int(temp))

        # Make available to rest of class.
        self.times = times
        self.windSpeeds = windSpeeds
        self.pops = pops
        self.temps = temps

    def createGraph(self):

        times = self.times
        windSpeeds = self.windSpeeds
        pops = self.pops
        temps = self.temps

        # Create the subplot variables.

        fig = plt.figure(figsize=(self.reportHours,4))
        temp = fig.add_subplot(111) # 111 since they're right on each other.
        rain = temp.twinx()

        # Creates the plot.
        rainPlot = rain.bar(times, pops, label = "Rain", color = "blue")
        tempPlot = temp.scatter(times,temps, label = "Temperature", marker = ".",  s= [(windSpeed * 500 ) for windSpeed in windSpeeds])

        # Annotate
        for i, txt in enumerate(windSpeeds):
            temp.annotate(str(txt), (times[i],temps[i]), va="center", ha="center", color = "white", zorder= 500)

        # Labeling.
        temp.set_ylabel('Temperature (F)')
        rain.set_ylabel('Percentage Rain (%)')
        temp.set_xlabel('Time of Day')
        temp.legend([tempPlot, rainPlot], ['Temperature', 'Rain'], bbox_to_anchor=(1, 1),
                   bbox_transform=plt.gcf().transFigure)

        date = datetime.datetime.now().strftime("%A, %B %d")
        plt.title(str(self.reportHours) + "-Hour Report: " + self.city + ", " + self.state + "\n " + date)
        temp.set_zorder(rain.get_zorder()+1)
        plt.ylim((0,100)) # makes sure scale of rain is 0-100
        temp.patch.set_visible(False) # hide the 'canvas'

        filename = 'graphs/' + self.city + '_' + '_'.join(date.split(" ")) + '-' + str(random.randint(1,1000)) + '.png'
        fig.savefig(filename)
        print("sent file name")
        return (filename)
        # plt.show()

def main():
    if len(sys.argv) < 3:
        city = "Los Angeles"
        state = "CA"
        reportHours = 12
        key = "a38755057259545e"
    else:
        city = sys.argv[1]
        state = sys.argv[2]
        reportHours = int(sys.argv[3])
        key = "a38755057259545e"

    w = weather(state = state, city = city, reportHours = reportHours, key = key)
    w.createGraph()

# main()
